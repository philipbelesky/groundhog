{%- capture basePath -%}
  /assets/img/{{ page.slug }}/{{ include.image }}
{%- endcapture -%}
{%- capture imageAlt -%}
  {%- if include.alt -%}{{ include.alt }}{%- else -%}{{ include.caption }}{%- endif -%}
{%- endcapture -%}

<figure class="gh-figure">
  <a class="image-link" href="{{ basePath }}-original.jpeg" target="_blank">
    <picture>
      <source srcset="{{ basePath }}-huge.jpeg    2304w,
                      {{ basePath }}-larger.jpeg  1920w,
                      {{ basePath }}-large.jpeg   1536w,
                      {{ basePath }}-medium.jpeg  1344w,
                      {{ basePath }}-smaller.jpeg 1152w,
                      {{ basePath }}-smaller.jpeg 960w"
               sizes="(min-width: 1472px) 1344px,
                      (min-width: 1280px) 1152px,
                      (min-width: 1088px) 960px,
                      100vw" />
      <img src="{{ basePath }}-medium.jpeg" alt="{{ imageAlt }}" />
    </picture>
  </a>
  {%- if include.caption or include.credit -%}
  <figcaption>
    {% if include.caption %}<p>{{ include.caption }}</p>{% endif %}
    {% if include.credit %}<em>{{ include.credit }}</em>{% endif %}
  </figcaption>
  {%- endif -%}
</figure>
